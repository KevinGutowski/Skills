<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Skill Forge ‚Äî Claude Skills Authoring</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="logo">
        <div class="logo-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 18 18"><title>pickaxe</title><g fill="currentColor"><path d="M9.1959 6.27411L2.149 13.321C1.811 13.659 1.625 14.108 1.625 14.586C1.625 15.064 1.811 15.513 2.149 15.851C2.487 16.189 2.936 16.375 3.414 16.375C3.892 16.375 4.341 16.189 4.679 15.851L11.7259 8.80411L9.1959 6.27411Z" fill-opacity="0.4"></path><path d="M14.8495 6.96188L14.9849 6.82658C15.4722 6.33928 15.4722 5.54628 14.9849 5.05898L12.9419 3.01598C12.4546 2.52868 11.6616 2.52868 11.1743 3.01598L11.0432 3.14708C9.24694 1.99498 7.40254 1.40558 5.55034 1.40558C5.43854 1.40558 5.33014 1.44318 5.24224 1.51198L4.65384 1.97238C4.53124 2.06808 4.46044 2.21508 4.46194 2.37078C4.46344 2.52608 4.53714 2.67208 4.66114 2.76528C5.95954 3.74208 7.21484 4.79698 8.41394 5.88348C8.32584 6.05658 8.26564 6.24188 8.26564 6.44158C8.26564 6.77608 8.39554 7.08998 8.63184 7.32638L10.6743 9.36888C10.918 9.61258 11.2383 9.73458 11.5586 9.73458C11.7519 9.73458 11.9387 9.67498 12.1154 9.58588C13.2071 10.7907 14.2604 12.0439 15.2344 13.3386C15.3277 13.4626 15.4737 13.5364 15.6289 13.5378H15.6338C15.7876 13.5378 15.9326 13.467 16.0278 13.3459L16.52 12.7165C16.5884 12.6286 16.626 12.5202 16.626 12.4084C16.626 10.6218 16.0383 8.80808 14.8495 6.96188Z"></path></g></svg>
        </div>
        <h1>Skill Forge</h1>
      </div>
      <p class="tagline">Craft powerful Claude Skills</p>
    </header>

    <main class="main">
      <div class="toolbar">
        <div class="skill-count">
          <span id="skillCount">0</span> Skills
        </div>
        <div class="toolbar-actions">
          <button class="btn-secondary" id="btnNewCollection">
            <span class="btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g class="nc-icon-wrapper" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M4.25 6.75H13.75C14.855 6.75 15.75 7.645 15.75 8.75V13.25C15.75 14.355 14.855 15.25 13.75 15.25H4.25C3.145 15.25 2.25 14.355 2.25 13.25V8.75C2.25 7.645 3.145 6.75 4.25 6.75Z" fill="currentColor" fill-opacity="0.3" data-color="color-2" data-stroke="none" stroke="none"></path> <path d="M2.25 8.75V4.75C2.25 3.645 3.145 2.75 4.25 2.75H6.201C6.808 2.75 7.381 3.025 7.761 3.498L8.364 4.25H13.75C14.855 4.25 15.75 5.145 15.75 6.25V9.094"></path> <path d="M4.25 6.75H13.75C14.855 6.75 15.75 7.645 15.75 8.75V13.25C15.75 14.355 14.855 15.25 13.75 15.25H4.25C3.145 15.25 2.25 14.355 2.25 13.25V8.75C2.25 7.645 3.145 6.75 4.25 6.75Z"></path></g></svg>
            </span>
            New Collection
          </button>
          <button class="btn-secondary btn-import" id="btnImport">
            <span class="btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g class="nc-icon-wrapper" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M15.25 11.75V13.25C15.25 14.355 14.355 15.25 13.25 15.25H4.75C3.645 15.25 2.75 14.355 2.75 13.25V11.75"></path> <path d="M9 2.75V9.75"></path> <path d="M12.5 6.25H5.5"></path></g></svg>
            </span>
            Import ZIP
          </button>
          <input type="file" id="fileInput" accept=".zip" multiple style="display: none;">
          <button class="btn-create" id="btnCreate">
            <span class="btn-icon">+</span>
            New Skill
          </button>
        </div>
      </div>

      <div class="skills-container" id="skillsContainer">
        <!-- Skills grouped by collection will be rendered here -->
      </div>

      <div class="empty-state" id="emptyState">
        <div class="empty-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 18 18"><g class="nc-icon-wrapper" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M4.25 6.75H13.75C14.855 6.75 15.75 7.645 15.75 8.75V13.25C15.75 14.355 14.855 15.25 13.75 15.25H4.25C3.145 15.25 2.25 14.355 2.25 13.25V8.75C2.25 7.645 3.145 6.75 4.25 6.75Z" fill="currentColor" fill-opacity="0.3" data-color="color-2" data-stroke="none" stroke="none"></path> <path d="M2.25 8.75V4.75C2.25 3.645 3.145 2.75 4.25 2.75H6.201C6.808 2.75 7.381 3.025 7.761 3.498L8.364 4.25H13.75C14.855 4.25 15.75 5.145 15.75 6.25V9.094"></path> <path d="M4.25 6.75H13.75C14.855 6.75 15.75 7.645 15.75 8.75V13.25C15.75 14.355 14.855 15.25 13.75 15.25H4.25C3.145 15.25 2.25 14.355 2.25 13.25V8.75C2.25 7.645 3.145 6.75 4.25 6.75Z"></path></g></svg>
        </div>
        <h2>No Skills Yet</h2>
        <p>Create your first Claude Skill or import existing ones</p>
        <div class="empty-actions">
          <button class="btn-secondary btn-import-empty" id="btnImportEmpty">
            <span class="btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g class="nc-icon-wrapper" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M15.25 11.75V13.25C15.25 14.355 14.355 15.25 13.25 15.25H4.75C3.645 15.25 2.75 14.355 2.75 13.25V11.75"></path> <path d="M9 2.75V9.75"></path> <path d="M12.5 6.25H5.5"></path></g></svg>
            </span>
            Import ZIP
          </button>
          <button class="btn-create-empty" id="btnCreateEmpty">
            <span class="btn-icon">+</span>
            Create Your First Skill
          </button>
        </div>
      </div>
    </main>
  </div>

  <!-- Create/Edit Skill Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <div class="modal-header">
        <h2 id="modalTitle">New Skill</h2>
        <button class="modal-close" id="modalClose">√ó</button>
      </div>
      
      <form class="skill-form" id="skillForm">
        <input type="hidden" id="originalName">
        <input type="hidden" id="originalCollection">
        
        <div class="form-row">
          <div class="form-group form-group-collection">
            <label for="skillCollection">
              Collection
              <span class="optional">(optional)</span>
            </label>
            <select id="skillCollection">
              <option value="">No Collection</option>
            </select>
          </div>
          
          <div class="form-group form-group-name">
            <label for="skillName">
              Name
              <span class="required">*</span>
              <span class="char-count"><span id="nameCount">0</span>/64</span>
            </label>
            <input 
              type="text" 
              id="skillName" 
              placeholder="e.g., brand-guidelines" 
              maxlength="64"
              pattern="[a-z0-9\-]+"
              required
            >
          </div>
        </div>
        <p class="field-hint">Lowercase letters, numbers, and hyphens only</p>

        <div class="form-group">
          <label for="skillDescription">
            Description
            <span class="required">*</span>
            <span class="char-count"><span id="descCount">0</span>/1024</span>
          </label>
          <textarea 
            id="skillDescription" 
            placeholder="e.g., Apply Acme Corp brand guidelines to presentations and documents. Use when creating external-facing materials."
            maxlength="1024"
            rows="3"
            required
          ></textarea>
          <p class="field-hint">Claude uses this to determine when to invoke your Skill</p>
        </div>

        <div class="form-group">
          <label for="skillDependencies">
            Dependencies
            <span class="optional">(optional)</span>
          </label>
          <input 
            type="text" 
            id="skillDependencies" 
            placeholder="e.g., python>=3.8, pandas>=1.5.0"
          >
          <p class="field-hint">Software packages required by your Skill</p>
        </div>

        <div class="form-group form-group-body">
          <label for="skillBody">
            Body Content
            <span class="tab-toggle">
              <button type="button" class="tab-btn active" data-tab="edit">Edit</button>
              <button type="button" class="tab-btn" data-tab="preview">Preview</button>
            </span>
          </label>
          <div class="body-editor">
            <textarea 
              id="skillBody" 
              placeholder="## Overview

This Skill provides...

## Instructions

1. First step...
2. Second step...

## Examples

Example input and output..."
              rows="12"
            ></textarea>
            <div class="body-preview" id="bodyPreview">
              <p class="preview-empty">Nothing to preview yet</p>
            </div>
          </div>
          <p class="field-hint">Write instructions in Markdown format</p>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-secondary" id="btnCancel">Cancel</button>
          <button type="submit" class="btn-primary">
            <span id="btnSubmitText">Create Skill</span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- View Skill Modal -->
  <div class="modal-overlay" id="viewModalOverlay">
    <div class="modal modal-view">
      <div class="modal-header">
        <h2 id="viewModalTitle">Skill Name</h2>
        <button class="modal-close" id="viewModalClose">√ó</button>
      </div>
      
      <div class="skill-view">
        <div class="view-file-info">
          <span class="file-badge" id="viewCollectionBadge"></span>
          <span class="file-badge">üì¶ <span id="viewFileName">skill-name.zip</span></span>
        </div>
        
        <div class="view-meta">
          <div class="meta-item">
            <span class="meta-label">Description</span>
            <p id="viewDescription"></p>
          </div>
          <div class="meta-item" id="viewDepsContainer">
            <span class="meta-label">Dependencies</span>
            <p id="viewDependencies"></p>
          </div>
        </div>

        <div class="view-files">
          <div class="files-header">
            <span class="meta-label">Files in Skill</span>
            <button class="btn-small" id="btnAddFile">+ Add File</button>
          </div>
          <div class="files-list" id="filesList">
            <!-- Files will be rendered here -->
          </div>
        </div>

        <div class="view-file-content" id="viewFileContent" style="display: none;">
          <div class="file-content-header">
            <span class="meta-label">
              <button class="btn-back" id="btnBackToFiles">‚Üê</button>
              <span id="currentFileName">SKILL.md</span>
            </span>
            <div class="file-actions">
              <button class="btn-small btn-danger" id="btnDeleteFile">Delete</button>
              <button class="btn-small btn-primary" id="btnSaveFile">Save</button>
            </div>
          </div>
          <textarea id="fileEditor" class="file-editor" rows="15"></textarea>
        </div>
        
        <div class="view-body" id="viewBodySection">
          <span class="meta-label">SKILL.md Preview</span>
          <div class="markdown-content" id="viewBody"></div>
        </div>

        <div class="view-output">
          <span class="meta-label">Generated SKILL.md</span>
          <pre class="skill-output" id="skillOutput"></pre>
        </div>
      </div>

      <div class="view-actions">
        <button class="btn-danger" id="btnDelete">Delete</button>
        <div class="view-actions-right">
          <button class="btn-secondary" id="btnMove">
            <span class="btn-icon">üìÇ</span>
            Move
          </button>
          <button class="btn-secondary" id="btnEdit">Edit</button>
          <button class="btn-primary" id="btnDownload">
            <span class="btn-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g class="nc-icon-wrapper" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" stroke="currentColor"><path d="M12.25 3H13.75C14.855 3 15.75 3.895 15.75 5V12.75C15.75 13.855 14.855 14.75 13.75 14.75H4.25C3.145 14.75 2.25 13.855 2.25 12.75V5C2.25 3.895 3.145 3 4.25 3H5.75" fill="currentColor" fill-opacity="0.3" data-color="color-2" data-stroke="none" stroke="none"></path> <path d="M12.25 3.25H13.75C14.855 3.25 15.75 4.145 15.75 5.25V12.75C15.75 13.855 14.855 14.75 13.75 14.75H4.25C3.145 14.75 2.25 13.855 2.25 12.75V5.25C2.25 4.145 3.145 3.25 4.25 3.25H5.75"></path> <path d="M12 8.75L9 11.75L6 8.75"></path> <path d="M9 11.75V3.25"></path></g></svg>
            </span>
            Download ZIP
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Collection Modal -->
  <div class="modal-overlay" id="collectionModalOverlay">
    <div class="modal modal-small">
      <div class="modal-header">
        <h2 id="collectionModalTitle">New Collection</h2>
        <button class="modal-close" id="collectionModalClose">√ó</button>
      </div>
      
      <form class="skill-form" id="collectionForm">
        <div class="form-group">
          <label for="collectionName">
            Collection Name
            <span class="required">*</span>
          </label>
          <input 
            type="text" 
            id="collectionName" 
            placeholder="e.g., my-book-skills" 
            maxlength="64"
            pattern="[a-z0-9\-]+"
            required
          >
          <p class="field-hint">Lowercase letters, numbers, and hyphens only</p>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-secondary" id="btnCollectionCancel">Cancel</button>
          <button type="submit" class="btn-primary">Create Collection</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Move Skill Modal -->
  <div class="modal-overlay" id="moveModalOverlay">
    <div class="modal modal-small">
      <div class="modal-header">
        <h2>Move Skill</h2>
        <button class="modal-close" id="moveModalClose">√ó</button>
      </div>
      
      <form class="skill-form" id="moveForm">
        <div class="form-group">
          <label for="moveTarget">
            Move to
          </label>
          <select id="moveTarget">
            <option value="">No Collection (root)</option>
          </select>
          <p class="field-hint">Select where to move this skill</p>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-secondary" id="btnMoveCancel">Cancel</button>
          <button type="submit" class="btn-primary">Move Skill</button>
        </div>
      </form>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
